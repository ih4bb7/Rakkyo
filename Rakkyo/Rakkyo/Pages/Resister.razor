@page "/register"
@using Rakkyo.Data

<form class="resistorForm">
    <div class="container">
        <div class="row">
            <div class="col-sm-1"></div>
            <div class="col-sm-9">
                <div class="form-group row">
                    <label for="" class="col-sm-2 col-form-label" style="text-align:end">店名</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" style="width:100%" @bind="shopName">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="" class="col-sm-2 col-form-label" style="text-align:end">ジャンル</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" style="width:100%" @bind="genre">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="" class="col-sm-2 col-form-label" style="text-align:end">URL</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" style="width:100%" @bind="url">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="" class="col-sm-2 col-form-label" style="text-align:end">場所</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" style="width:100%" @bind="place">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="" class="col-sm-2 col-form-label" style="text-align:end">評価</label>
                    <div class="col-sm-10 form-inline">
                        <input type="number" class="form-control" style="width:120px" max="5" min="0" step="0.1" placeholder="0～5.0" @bind="evaluation">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="" class="col-sm-2 col-form-label" style="text-align:end">支払方法</label>
                    <div class="col-sm-10 marginAuto">
                        <input type="checkbox" id="cash" @bind="canUseCash"><label for="cash">現金</label>&nbsp;
                        <input type="checkbox" id="card" @bind="canUseCard"><label for="card">カード</label>&nbsp;
                        <input type="checkbox" id="eleManey" @bind="canUseEM"><label for="eleManey">電子マネー</label>&nbsp;
                        <input type="checkbox" id="qr" @bind="canUseQR"><label for="qr">QR決済</label>&nbsp;
                    </div>
                </div>
                <div class="form-group row">
                    <label for="" class="col-sm-2 col-form-label" style="text-align:end">口コミ</label>
                    <div class="col-sm-10">
                        <textarea rows="4" class="form-control" style="width:100%" @bind="reviews"></textarea>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="marginRight">
                        <a href="" class="btn-flat-border width70px" @onclick="RegistClick">登録</a>
                    </div>
                </div>
            </div>
            <div class="col-sm-2"></div>
        </div>
    </div>
</form>


@code {
    private RegistData registData = new RegistData();
    private string shopName;
    private string genre;
    private string url;
    private string place;
    private bool canUseCash;
    private bool canUseCard;
    private bool canUseEM;
    private bool canUseQR;
    private DateTime updateDatetime;
    private double evaluation;
    private string reviews;

    private void RegistClick()
    {
        registData.ShopName = shopName;
        registData.Genre = genre;
        registData.URL = url;
        registData.Place = place;
        registData.CanUseCash = canUseCash;
        registData.CanUseCard = canUseCard;
        registData.CanUseEM = canUseEM;
        registData.CanUseQR = canUseQR;
        registData.UpdateDatetime = DateTime.Now;
        RegistDataService.Regist(registData, evaluation, reviews);
    }
}
